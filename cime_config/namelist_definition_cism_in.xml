<?xml version="1.0"?>

<?xml-stylesheet type="text/xsl" href="namelist_definition.xsl"?>

<entry_id version="2.0">

  <!-- =============================================================  -->
  <!-- group: cism_params                                             -->
  <!-- =============================================================  -->

  <entry id="paramfile_base" skip_default_entry="true">
    <type>char</type>
    <category>cism</category>
    <group>cism_params</group>
    <desc>
      Base name of top-level configuration file for CISM
      Actual param files will have the ice sheet name on the end
      (Determined by scripts -- should not be set by user)
    </desc>
  </entry>

  <entry id="num_icesheets" skip_default_entry="true" modify_via_xml="CISM_USE_ANTARCTICA, CISM_USE_GREENLAND, etc.">
    <type>integer</type>
    <category>cism</category>
    <group>cism_params</group>
    <desc>
      Number of ice sheets in this simulation
      (Determined by scripts -- cannot be set by user)
    </desc>
  </entry>

  <entry id="icesheet_names" skip_default_entry="true" modify_via_xml="CISM_USE_ANTARCTICA, CISM_USE_GREENLAND, etc.">
    <type>char(10)</type>
    <category>cism</category>
    <group>cism_params</group>
    <desc>
      List of names of ice sheets in this simulation
      (Determined by scripts -- cannot be set by user)
    </desc>
  </entry>

  <entry id="cism_debug" >
    <type>logical</type>
    <category>cism</category>
    <group>cism_params</group>
    <values>
      <value>.false.</value>
    </values>
    <desc>
      Determines whether extra diagnostics are printed in the cism log file
      Default: false
    </desc>
  </entry>

  <entry id="ice_flux_routing">
    <type>char</type>
    <category>cism</category>
    <group>cism_params</group>
    <valid_values>ocn,ice</valid_values>
    <values>
      <value>ocn</value>
    </values>
    <desc>
      Code describing how the solid ice runoff flux (i.e., calving) should
      be routed.
      ocn: all solid ice goes to the ocean component
      ice: all solid ice goes to the sea ice component
      Default: ocn
    </desc>
  </entry>

  <entry id="zero_gcm_fluxes">
    <type>logical</type>
    <category>cism</category>
    <group>cism_params</group>
    <values>
      <value glc_two_way_coupling=".true." cism_evolve=".true.">.false.</value>
      <value glc_two_way_coupling=".false." cism_evolve=".true.">.true.</value>
      <value glc_two_way_coupling=".true." cism_evolve=".false.">.true.</value>
      <value glc_two_way_coupling=".false." cism_evolve=".false.">.true.</value>
    </values>
    <desc>
      If true, zero out all fluxes sent to the GCM
      Default: Depends on GLC_TWO_WAY_COUPLING xml variable
    </desc>
  </entry>

  <entry id="test_coupling">
    <type>logical</type>
    <category>cism</category>
    <group>cism_params</group>
    <values>
      <value>.false.</value>
    </values>
    <desc>
      If this is set to true, it sets the mass balance timestep to 1 day.
      This means the ice dynamics is called after one day of climate simulation.
      THIS IS ONLY FOR TESTING OF COUPLING PROCEDURES, NOT TO BE USED FOR SCIENCE.
    </desc>
  </entry>

  <entry id="enable_frac_overrides">
    <type>logical</type>
    <category>cism</category>
    <group>cism_params</group>
    <values>
      <value>.false.</value>
    </values>
    <desc>
      Whether to enable overrides of the glc fraction sent to the coupler.
      If this is true, then settings in glc_override_nml are used.
      ONLY MEANT FOR TESTING - SHOULD NOT BE USED FOR SCIENCE RUNS.
      Default: .false.
    </desc>
  </entry>

  <!-- =============================================================  -->
  <!-- group: cism_history                                            -->
  <!-- =============================================================  -->

  <entry id="cesm_history_vars" >
    <type>char</type>
    <category>history</category>
    <group>cism_history</group>
    <values>
      <value cism_evolve=".true." >smb artm thk usurf topg uvel vvel temp bmlt bwat beta_internal floating_mask grounded_mask bpmp acab_applied bmlt_applied calving_rate iareaf iareag imass imass_above_flotation total_smb_flux total_bmb_flux total_calving_flux total_gl_flux ice_sheet_mask ice_cap_mask</value>
      <value cism_evolve=".false.">smb artm thk usurf topg</value>
    </values>
    <desc>
      Space-delimited list of variables output to history file
      Default: Depends on physics and ice evolution options
    </desc>
  </entry>

  <entry id="history_option">
    <type>char</type>
    <category>history</category>
    <group>cism_history</group>
    <valid_values>nyears,coupler</valid_values>
    <values>
      <value>nyears</value>
    </values>
    <desc>
      How history frequency is specified
      nyears: Write history every N years
      coupler: Get history frequency from coupler (HIST_OPTION/HIST_N xml variables)
               WARNING: SHOULD NOT BE USED IN PRODUCTION RUNS - frequency metadata not set properly
      Default: nyears
    </desc>
  </entry>

  <entry id="history_frequency">
    <type>integer</type>
    <category>history</category>
    <group>cism_history</group>
    <values>
      <value>1</value>
    </values>
    <desc>
      History frequency
      e.g., if history_option=nyears, then 1 = annual, 2 = every two years, etc.
      Ignored for history_option = 'coupler'
      Default: 1
    </desc>
  </entry>

  <!-- =============================================================  -->
  <!-- group: time_manager_nml                                        -->
  <!-- =============================================================  -->

  <entry id="runid" modify_via_xml="CASE">
    <type>char</type>
    <category>time</category>
    <group>time_manager_nml</group>
    <values>
      <value>$CASE</value>
    </values>
    <desc>
      Simulation identifier (ie case name)
      Default: case name set by create_newcase
    </desc>
  </entry>

  <entry id="dt_option" skip_default_entry="true">
    <type>char</type>
    <category>time</category>
    <group>time_manager_nml</group>
    <valid_values>steps_per_year,steps_per_day,seconds,hours</valid_values>
    <desc>
      GLC time-step units
      This generally should not be changed
      Valid values: steps_per_year, steps_per_day, seconds, hours
      Default: set based on NCPL_BASE_PERIOD and GLC_NCPL in env_run.xml,
      so that there is one GLC time step per coupling period
    </desc>
  </entry>

  <entry id="dt_count" skip_default_entry="true">
    <type>real</type>
    <category>time</category>
    <group>time_manager_nml</group>
    <desc>
      Time step, in units given by dt_option
      This generally should not be changed
      Default: set based on NCPL_BASE_PERIOD and GLC_NCPL in env_run.xml,
      so that there is one GLC time step per coupling period
    </desc>
  </entry>

  <entry id="allow_leapyear">
    <type>logical</type>
    <category>time</category>
    <group>time_manager_nml</group>
    <values>
      <value>.true.</value>
      <value calendar="NO_LEAP">.false.</value>
    </values>
    <desc>
      Whether leap years are enabled in the GLC time manager.
      CAUTION: Leap years don't work correctly with GLC time steps longer than a few months.
      Default: .false. for NO_LEAP calendar, .true. otherwise
    </desc>
  </entry>

  <entry id="iyear0" skip_default_entry="true">
    <type>integer</type>
    <category>time</category>
    <group>time_manager_nml</group>
    <desc>
      Starting year number
      Default: comes from RUN_STARTDATE or RUN_REFDATE
    </desc>
  </entry>

  <entry id="imonth0" skip_default_entry="true">
    <type>integer</type>
    <category>time</category>
    <group>time_manager_nml</group>
    <valid_values>1,2,3,4,5,6,7,8,9,10,11,12</valid_values>
    <desc>
      Starting month number
      Default: comes from RUN_STARTDATE or RUN_REFDATE
    </desc>
  </entry>

  <entry id="iday0" skip_default_entry="true">
    <type>integer</type>
    <category>time</category>
    <group>time_manager_nml</group>
    <valid_values>1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31</valid_values>
    <desc>
      Starting day number in month
      Default: comes from RUN_STARTDATE or RUN_REFDATE
    </desc>
  </entry>

  <entry id="ihour0" skip_default_entry="true">
    <type>integer</type>
    <category>time</category>
    <group>time_manager_nml</group>
    <valid_values>0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23</valid_values>
    <desc>
      Starting hour of the day
      Default: 0
    </desc>
  </entry>

  <entry id="iminute0" skip_default_entry="true">
    <type>integer</type>
    <category>time</category>
    <group>time_manager_nml</group>
    <valid_values>0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59</valid_values>
    <desc>
      Starting minute of the day
      Default: 0
    </desc>
  </entry>

  <entry id="isecond0" skip_default_entry="true">
    <type>integer</type>
    <category>time</category>
    <group>time_manager_nml</group>
    <valid_values>0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59</valid_values>
    <desc>
      Starting second of the minute
      Default: 0
    </desc>
  </entry>

  <entry id="date_separator">
    <type>char</type>
    <category>time</category>
    <group>time_manager_nml</group>
    <values>
      <value>-</value>
    </values>
    <desc>
      Character to separate date values
      Default: '-'
    </desc>
  </entry>

  <entry id="stop_option">
    <type>char</type>
    <category>time</category>
    <group>time_manager_nml</group>
    <valid_values>never</valid_values>
    <values>
      <value>never</value>
    </values>
    <desc>
      Stop option:  always let the coupler stop the model so use `never`.
      Default: 'never'
    </desc>
  </entry>

  <!-- =============================================================  -->
  <!-- group: glc_override_nml                                        -->
  <!-- =============================================================  -->

  <entry id="decrease_override_delay">
    <type>integer</type>
    <category>overrides</category>
    <group>glc_override_nml</group>
    <values>
      <value>0</value>
    </values>
    <desc>
      Time delay before beginning decrease_frac overrides (days).
      Default: 0 (start overrides at beginning of run)
    </desc>
  </entry>

  <entry id="increase_override_delay">
    <type>integer</type>
    <category>overrides</category>
    <group>glc_override_nml</group>
    <values>
      <value>0</value>
    </values>
    <desc>
      Time delay before beginning increase_frac overrides (days).
      Default: 0 (start overrides at beginning of run)
    </desc>
  </entry>

  <entry id="rearrange_override_delay">
    <type>integer</type>
    <category>overrides</category>
    <group>glc_override_nml</group>
    <values>
      <value>0</value>
    </values>
    <desc>
      Time delay before beginning rearrange_freq overrides (days).
      Default: 0 (start overrides at beginning of run)
    </desc>
  </entry>

  <entry id="decrease_frac">
    <type>real</type>
    <category>overrides</category>
    <group>glc_override_nml</group>
    <values>
      <value>0.0</value>
    </values>
    <desc>
      Fractional decrease in glacier area, per day (should be positive).
      (days_elapsed * decrease_frac) determines the elevation threshold below which ice_covered is set to 0.
      When this factor reaches 1, all elevations below 3500 m are set to non-ice-covered.
      Default: 0 (no decrease)
    </desc>
  </entry>

  <entry id="increase_frac">
    <type>real</type>
    <category>overrides</category>
    <group>glc_override_nml</group>
    <values>
      <value>0.0</value>
    </values>
    <desc>
      Fractional increase in glacier area, per day.
      (days_elapsed * increase_frac) determines the elevation threshold above which ice_covered is set to 1.
      When this factor reaches 1, all elevations >= 0 m are set to ice-covered.
      Default: 0 (no increase)
    </desc>
  </entry>

  <entry id="rearrange_freq">
    <type>integer</type>
    <category>overrides</category>
    <group>glc_override_nml</group>
    <values>
      <value>0</value>
    </values>
    <desc>
      Frequency (days) at which we rearrange elevation classes.
      Default: 0 (no flips ever)
    </desc>
  </entry>

</entry_id>
