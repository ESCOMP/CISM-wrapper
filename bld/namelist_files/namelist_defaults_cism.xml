<?xml version="1.0"?>

<?xml-stylesheet type="text/xsl" href="namelist_defaults.xsl"?>

<namelist_defaults>

<!--
Values to use by default for creation of CISM  model namelists.
The element names are the same as the corresponding namelist
variables.  Values that depend on the model configuration use
attributes to express the dependency.
The following default list is for the MISMIP+ experiment.
-->

<!-- =============================================================  -->
<!-- group: derived                                                 -->
<!-- (does not appear in namelist file cism_in; handled uniquely)   -->
<!-- =============================================================  -->

<!-- this is the input file to be used to run MISMIP+ with cism2 -->
<cisminputfile glc_grid="MISOMIP" cism_phys="cism2">glc/cism/MISOMIP/mismipInit_2km.nc</cisminputfile>

<!-- =============================================================  -->
<!-- group: cism_params                                             -->
<!-- =============================================================  -->

<cism_debug>.false.</cism_debug>

<ice_flux_routing>ocn</ice_flux_routing>

<zero_gcm_fluxes glc_two_way_coupling="TRUE" cism_evolve="TRUE">.false.</zero_gcm_fluxes>
<zero_gcm_fluxes glc_two_way_coupling="FALSE" cism_evolve="TRUE">.true.</zero_gcm_fluxes>
<zero_gcm_fluxes glc_two_way_coupling="TRUE" cism_evolve="FALSE">.true.</zero_gcm_fluxes>
<zero_gcm_fluxes glc_two_way_coupling="FALSE" cism_evolve="FALSE">.true.</zero_gcm_fluxes>

<test_coupling>.false.</test_coupling>

<!-- =============================================================  -->
<!-- group: cism_history                                            -->
<!-- =============================================================  -->

<cesm_history_vars cism_phys="cism2" cism_evolve="TRUE" >'smb artm thk usurf topg uvel vvel temp bmlt bwat beta_internal floating_mask grounded_mask bpmp acab_applied bmlt_applied bmlt_float_external calving_rate iareaf iareag imass imass_above_flotation total_smb_flux total_bmb_flux total_calving_flux total_gl_flux'</cesm_history_vars>
<cesm_history_vars cism_phys="cism2" cism_evolve="FALSE">'smb artm thk usurf topg'</cesm_history_vars>

<history_option>nyears</history_option>

<history_frequency>1</history_frequency>

<!-- =============================================================  -->
<!-- group: time_manager_nml                                        -->
<!-- =============================================================  -->

<date_separator>-</date_separator>

<stop_option>never</stop_option>

<allow_leapyear>.true.</allow_leapyear>
<allow_leapyear calendar="NO_LEAP">.false.</allow_leapyear>

<!-- =============================================================  -->
<!-- group: glc_override_nml                                        -->
<!-- =============================================================  -->

<enable_frac_overrides>.false.</enable_frac_overrides>

<decrease_override_delay>0</decrease_override_delay>
<increase_override_delay>0</increase_override_delay>
<rearrange_override_delay>0</rearrange_override_delay>

<decrease_frac>0.0</decrease_frac>

<increase_frac>0.0</increase_frac>

<rearrange_freq>0</rearrange_freq>

<!-- =============================================================  -->
<!-- group: cism.config: grid                                       -->
<!-- =============================================================  -->

<ewn >403</ewn>
<nsn>40</nsn>
<upn>3</upn>

<dew>2000.</dew>
<dns>2000.</dns>

<global_bc>0</global_bc>


<!-- =============================================================  -->
<!-- group: cism.config: sigma                                      -->
<!-- =============================================================  -->

<!-- This group is only relevant if sigma=2 -->

<!-- These levels focus resolution at the bottom -->
<!-- <sigma_levels>0.00 0.50 1.00</sigma_levels> -->

<!-- =============================================================  -->
<!-- group: cism.config: climate                                    -->
<!-- =============================================================  -->

<evolve_ice cism_evolve="TRUE">1</evolve_ice>
<evolve_ice cism_evolve="FALSE">0</evolve_ice>

<!-- =============================================================  -->
<!-- group: cism.config: options                                    -->
<!-- =============================================================  -->

<dycore>2</dycore>

<temperature>0</temperature>

<!-- temp_init = 3 can only generate an advective-diffusive-balance profile if
     acab is present in the input file (which is currently only the case for the
     4km input file). But it defaults to a linear profile (temp_init 2) if acab
     is not present. So to keep things simple, we specify temp_init = 3 for all
     input files, rather than making this dependent on glc_grid. However,
     temp_init = 3 cannot be used for glide, so we use temp_init = 2 when
     running with cism1 physics. -->
<temp_init>1</temp_init>

<flow_law>0</flow_law>

<bmlt_float>0</bmlt_float>

<!-- basal_mass_balance CISM default -->
<basal_mass_balance>1</basal_mass_balance>

<!-- isostasy CISM default -->
<isostasy>0</isostasy>

<marine_margin>5</marine_margin>

<!-- calving_domain CISM default -->
<calving_domain>1</calving_domain>

<!-- calving_init CISM default -->
<calving_init>0</calving_init>

<evolution>3</evolution>

<slip_coeff>0</slip_coeff>

<!-- vertical_integration CISM default -->
<vertical_integration>0</vertical_integration>


<!-- =============================================================  -->
<!-- group: cism.config: time                                       -->
<!-- =============================================================  -->

<!-- Note: if change dt, also should change dt_diag -->
<dt>1.</dt>

<adaptive_cfl_threshold>0.5</adaptive_cfl_threshold>

<!-- Set dt_diag same as dt in order to get diagnostics every time step -->
<dt_diag>1.</dt_diag>

<idiag>120</idiag>
<jdiag>40</jdiag>

<!-- =============================================================  -->
<!-- group: cism.config: parameters                                 -->
<!-- =============================================================  -->

<rhoi>918.0</rhoi>
<rhoo>1028.0</rhoo>
<grav>9.8</grav>
<flow_factor>1.</flow_factor>
<ice_limit>1.</ice_limit>
<default_flwa>2.0e-17</default_flwa>
<beta_grounded_min>10.</beta_grounded_min>
<calving_front_x>640000.</calving_front_x>
<p_ocean_penetration>1.</p_ocean_penetration>
<coulomb_c>0.5</coulomb_c>
<powerlaw_c>1.e4</powerlaw_c>
<powerlaw_m>3</powerlaw_m>
<bmlt_float_omega>0.2</bmlt_float_omega>
<bmlt_float_z0>-100.</bmlt_float_z0>
<bmlt_float_h0>-75.</bmlt_float_h0>
<bmlt_float_const>100.</bmlt_float_const>
<bmlt_float_xlim>-480000.</bmlt_float_xlim>

<!-- =============================================================  -->
<!-- group: cism.config: ho_options                                 -->
<!-- =============================================================  -->

<!-- This group is only relevant if dycore is not 0 -->

<which_ho_babc>11</which_ho_babc>

<which_ho_effecpress>3</which_ho_effecpress>

<!-- which_ho_efvs CISM default -->
<which_ho_efvs>2</which_ho_efvs>

<which_ho_sparse>3</which_ho_sparse>

<which_ho_nonlinear>0</which_ho_nonlinear>

<which_ho_approx>4</which_ho_approx>

<which_ho_precond>1</which_ho_precond>

<!-- which_ho_gradient_margin CISM default -->
<which_ho_gradient_margin>2</which_ho_gradient_margin>

<!-- which_ho_gradient CISM default -->
<which_ho_gradient>0</which_ho_gradient>

<!-- which_ho_assemble_beta CISM default -->
<which_ho_assemble_beta>1</which_ho_assemble_beta>

<!-- which_ho_assemble_taud CISM default -->
<which_ho_assemble_taud>1</which_ho_assemble_taud>

<!-- which_ho_assemble_bfric CISM default -->
<which_ho_assemble_bfric>1</which_ho_assemble_bfric>

<which_ho_ground>0</which_ho_ground>

<which_ho_resid>4</which_ho_resid>

<which_ho_flotation_function>2</which_ho_flotation_function>

<glissade_maxiter>50</glissade_maxiter>

</namelist_defaults>
